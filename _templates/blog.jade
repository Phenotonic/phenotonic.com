extends page.jade

block content

  unless pagination.num == 1
    h3.blog__page Page #{ pagination.num }

  each post in pagination.files
  
    section.post-preview
    
      header.post-preview__meta
        
        if post.date
          .post-preview__date: a(href="#{ post.path }")= post.date
    
        if post.tags
          .post-preview__tags
            for tag in post.tags
              a.post-preview__tag(href="/tagged/#{ tag }")= tag
    
      h2.post-preview__title: a(href="#{ post.path }")= post.title
    
      if post.author
        h4.post-preview__authors by
          if typeof post.author == "object"
            each auth in post.author
              span.post-preview__author= auth
          else
            span.post-preview__author= post.author
    
      h4.post-preview__summary= post.snippet
        
      a(href="#{ post.path }") View Post

  if pagination.next || pagination.prev
  
    nav(role="pagination").pagination
    
      .pagination__first
        if pagination.num != 1
          a.btn(rel="first", href="/#{ pagination.first.path }") Newest
          
      ul.pagination__pages
        if pagination.prev
          li: a(href="/#{ pagination.prev.path }")= pagination.num - 1
        li.pagination__current= pagination.num
        if pagination.next
          li: a(href="/#{ pagination.next.path }")= pagination.num + 1
        
      .pagination__last
        if pagination.num != pagination.pages.length
          a.btn(rel="last", href="/#{ pagination.last.path }") Oldest
